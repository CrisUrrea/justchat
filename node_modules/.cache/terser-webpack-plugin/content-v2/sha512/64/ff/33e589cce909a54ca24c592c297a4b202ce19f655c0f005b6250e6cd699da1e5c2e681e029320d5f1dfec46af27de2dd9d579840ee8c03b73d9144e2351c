{"map":"{\"version\":3,\"sources\":[\"/Users/cristhianurrea/Downloads/justchat-master/src/store/utility.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/reducers/auth.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/actions/actionTypes.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/reducers/nav.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/reducers/message.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/hoc/hoc.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/settings.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/websocket.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/containers/Chat.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/routes.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/actions/auth.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/actions/message.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/components/Contact.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/containers/Sidepanel.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/store/actions/nav.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/containers/Profile.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/containers/Form.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/containers/Popup.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/App.js\",\"/Users/cristhianurrea/Downloads/justchat-master/src/index.js\"],\"names\":[\"updateObject\",\"oldObject\",\"updatedProperties\",\"Object\",\"objectSpread\",\"initialState\",\"token\",\"username\",\"error\",\"loading\",\"reducer\",\"state\",\"arguments\",\"length\",\"undefined\",\"action\",\"type\",\"authStart\",\"authSuccess\",\"authFail\",\"authLogout\",\"showAddChatPopup\",\"openAddChatPopup\",\"closeAddChatPopup\",\"messages\",\"chats\",\"toConsumableArray\",\"concat\",\"message\",\"addMessage\",\"reverse\",\"setMessages\",\"setChats\",\"Hoc\",\"props\",\"children\",\"HOST_URL\",\"SOCKET_URL\",\"WebSocketService\",\"classCallCheck\",\"this\",\"callbacks\",\"socketRef\",\"instance\",\"chatUrl\",\"_this\",\"path\",\"WebSocket\",\"onopen\",\"console\",\"log\",\"onmessage\",\"e\",\"socketNewMessage\",\"data\",\"onerror\",\"onclose\",\"connect\",\"close\",\"parsedData\",\"JSON\",\"parse\",\"command\",\"keys\",\"chatId\",\"sendMessage\",\"from\",\"content\",\"messagesCallback\",\"newMessageCallback\",\"send\",\"stringify\",\"err\",\"readyState\",\"WebSocketInstance\",\"getInstance\",\"Chat\",\"possibleConstructorReturn\",\"getPrototypeOf\",\"call\",\"messageChangeHandler\",\"event\",\"setState\",\"target\",\"value\",\"sendMessageHandler\",\"preventDefault\",\"messageObject\",\"match\",\"params\",\"chatID\",\"newChatMessage\",\"renderTimestamp\",\"timestamp\",\"timeDiff\",\"Math\",\"round\",\"Date\",\"getTime\",\"renderMessages\",\"currentUser\",\"map\",\"i\",\"arr\",\"react_default\",\"a\",\"createElement\",\"key\",\"id\",\"style\",\"marginBottom\",\"className\",\"author\",\"src\",\"alt\",\"scrollToBottom\",\"messagesEnd\",\"scrollIntoView\",\"behavior\",\"initialiseChat\",\"_this2\",\"waitForSocketConnection\",\"fetchMessages\",\"callback\",\"component\",\"setTimeout\",\"newProps\",\"_this3\",\"disconnect\",\"_this4\",\"hoc\",\"float\",\"clear\",\"ref\",\"el\",\"onSubmit\",\"onChange\",\"required\",\"placeholder\",\"aria-hidden\",\"React\",\"Component\",\"auth\",\"BaseRouter\",\"Route\",\"exact\",\"logout\",\"localStorage\",\"removeItem\",\"checkAuthTimeout\",\"expirationTime\",\"dispatch\",\"getUserChats\",\"axios\",\"defaults\",\"xsrfHeaderName\",\"xsrfCookieName\",\"headers\",\"Content-Type\",\"Authorization\",\"get\",\"then\",\"res\",\"Contact\",\"NavLink\",\"to\",\"chatURL\",\"color\",\"status\",\"picURL\",\"name\",\"antIcon\",\"icon\",\"fontSize\",\"spin\",\"Sidepanel\",\"loginForm\",\"changeForm\",\"authenticate\",\"login\",\"password\",\"signup\",\"email\",\"password2\",\"waitForAuthDetails\",\"addChat\",\"activeChats\",\"c\",\"components_Contact\",\"indicator\",\"isAuthenticated\",\"onClick\",\"method\",\"class\",\"btnAbrirPopup\",\"document\",\"getElementById\",\"overlay\",\"popup\",\"btnCerrarPopup\",\"addEventListener\",\"classList\",\"add\",\"remove\",\"abrir1\",\"href\",\"abrir2\",\"onload\",\"$\",\"ajax\",\"url\",\"context\",\"body\",\"htmlFor\",\"userName\",\"post\",\"expirationDate\",\"setItem\",\"catch\",\"actions\",\"password1\",\"messageActions\",\"Profile\",\"Redirect\",\"FormItem\",\"Form\",\"Item\",\"HorizontalAddChatForm\",\"usernames\",\"handleChange\",\"handleSubmit\",\"form\",\"validateFields\",\"values\",\"combined\",\"participants\",\"history\",\"push\",\"fieldsError\",\"_this$props$form\",\"getFieldDecorator\",\"getFieldsError\",\"getFieldError\",\"userNameError\",\"isFieldTouched\",\"es_form\",\"layout\",\"validateStatus\",\"help\",\"rules\",\"es_select\",\"mode\",\"width\",\"es_button\",\"htmlType\",\"disabled\",\"some\",\"field\",\"AddChatForm\",\"create\",\"withRouter\",\"AddChatModal\",\"modal\",\"centered\",\"footer\",\"visible\",\"isVisible\",\"onCancel\",\"App\",\"addCallbacks\",\"bind\",\"assertThisInitialized\",\"onTryAutoSignup\",\"BrowserRouter\",\"containers_Sidepanel\",\"Popup\",\"containers_Profile\",\"routes\",\"nav\",\"authenticated\",\"getItem\",\"composeEnhancers\",\"window\",\"__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\",\"compose\",\"store\",\"rootReducer\",\"combineReducers\",\"authReducer\",\"navReducer\",\"messageReducer\",\"createStore\",\"applyMiddleware\",\"thunk\",\"configureStore\",\"app\",\"es\",\"src_App\",\"ReactDOM\",\"render\"],\"mappings\":\"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\",\"sourcesContent\":[\"export const updateObject = (oldObject, updatedProperties) => {\\n  return {\\n    ...oldObject,\\n    ...updatedProperties\\n  };\\n};\\n\",\"import * as actionTypes from \\\"../actions/actionTypes\\\";\\nimport { updateObject } from \\\"../utility\\\";\\n\\nconst initialState = {\\n  token: null,\\n  username: null,\\n  error: null,\\n  loading: false\\n};\\n\\nconst authStart = (state, action) => {\\n  return updateObject(state, {\\n    error: null,\\n    loading: true\\n  });\\n};\\n\\nconst authSuccess = (state, action) => {\\n  return updateObject(state, {\\n    token: action.token,\\n    username: action.username,\\n    error: null,\\n    loading: false\\n  });\\n};\\n\\nconst authFail = (state, action) => {\\n  return updateObject(state, {\\n    error: action.error,\\n    loading: false\\n  });\\n};\\n\\nconst authLogout = (state, action) => {\\n  return updateObject(state, {\\n    token: null,\\n    username: null\\n  });\\n};\\n\\nconst reducer = (state = initialState, action) => {\\n  switch (action.type) {\\n    case actionTypes.AUTH_START:\\n      return authStart(state, action);\\n    case actionTypes.AUTH_SUCCESS:\\n      return authSuccess(state, action);\\n    case actionTypes.AUTH_FAIL:\\n      return authFail(state, action);\\n    case actionTypes.AUTH_LOGOUT:\\n      return authLogout(state, action);\\n    default:\\n      return state;\\n  }\\n};\\n\\nexport default reducer;\\n\",\"export const AUTH_START = \\\"AUTH_START\\\";\\nexport const AUTH_SUCCESS = \\\"AUTH_SUCCESS\\\";\\nexport const AUTH_FAIL = \\\"AUTH_FAIL\\\";\\nexport const AUTH_LOGOUT = \\\"AUTH_LOGOUT\\\";\\nexport const OPEN_ADD_CHAT_POPUP = \\\"OPEN_ADD_CHAT_POPUP\\\";\\nexport const CLOSE_ADD_CHAT_POPUP = \\\"CLOSE_ADD_CHAT_POPUP\\\";\\nexport const ADD_MESSAGE = \\\"ADD_MESSAGE\\\";\\nexport const SET_MESSAGES = \\\"SET_MESSAGES\\\";\\nexport const GET_CHATS_SUCCESS = \\\"GET_CHATS_SUCCESS\\\";\\n\",\"import * as actionTypes from \\\"../actions/actionTypes\\\";\\nimport { updateObject } from \\\"../utility\\\";\\n\\nconst initialState = {\\n  showAddChatPopup: false\\n};\\n\\nconst openAddChatPopup = (state, action) => {\\n  return updateObject(state, { showAddChatPopup: true });\\n};\\n\\nconst closeAddChatPopup = (state, action) => {\\n  return updateObject(state, { showAddChatPopup: false });\\n};\\n\\nconst reducer = (state = initialState, action) => {\\n  switch (action.type) {\\n    case actionTypes.OPEN_ADD_CHAT_POPUP:\\n      return openAddChatPopup(state, action);\\n    case actionTypes.CLOSE_ADD_CHAT_POPUP:\\n      return closeAddChatPopup(state, action);\\n    default:\\n      return state;\\n  }\\n};\\n\\nexport default reducer;\\n\",\"import * as actionTypes from \\\"../actions/actionTypes\\\";\\nimport { updateObject } from \\\"../utility\\\";\\n\\nconst initialState = {\\n  messages: [],\\n  chats: []\\n};\\n\\nconst addMessage = (state, action) => {\\n  return updateObject(state, {\\n    messages: [...state.messages, action.message]\\n  });\\n};\\n\\nconst setMessages = (state, action) => {\\n  return updateObject(state, {\\n    messages: action.messages.reverse()\\n  });\\n};\\n\\nconst setChats = (state, action) => {\\n  return updateObject(state, {\\n    chats: action.chats\\n  });\\n};\\n\\nconst reducer = (state = initialState, action) => {\\n  switch (action.type) {\\n    case actionTypes.ADD_MESSAGE:\\n      return addMessage(state, action);\\n    case actionTypes.SET_MESSAGES:\\n      return setMessages(state, action);\\n    case actionTypes.GET_CHATS_SUCCESS:\\n      return setChats(state, action);\\n    default:\\n      return state;\\n  }\\n};\\n\\nexport default reducer;\\n\",\"const Hoc = props => props.children;\\n\\nexport default Hoc;\\n\",\"let DEBUG = true;\\nlet HOST_URL = \\\"localhost\\\";\\nlet SOCKET_URL = \\\"ws://127.0.0.1:8000\\\";\\nif (DEBUG) {\\n  HOST_URL = \\\"http://127.0.0.1:8000\\\";\\n  SOCKET_URL = \\\"ws://127.0.0.1:8000\\\";\\n}\\n\\nexport { HOST_URL, SOCKET_URL };\\n\",\"import { SOCKET_URL } from \\\"./settings\\\";\\n\\nclass WebSocketService {\\n  static instance = null;\\n  callbacks = {};\\n\\n  static getInstance() {\\n    if (!WebSocketService.instance) {\\n      WebSocketService.instance = new WebSocketService();\\n    }\\n    return WebSocketService.instance;\\n  }\\n\\n  constructor() {\\n    this.socketRef = null;\\n  }\\n\\n  connect(chatUrl) {\\n    const path = `${SOCKET_URL}/ws/chat/${chatUrl}/`;\\n    this.socketRef = new WebSocket(path);\\n    this.socketRef.onopen = () => {\\n      console.log(\\\"WebSocket open\\\");\\n    };\\n    this.socketRef.onmessage = e => {\\n      this.socketNewMessage(e.data);\\n    };\\n    this.socketRef.onerror = e => {\\n      console.log(e.message);\\n    };\\n    this.socketRef.onclose = () => {\\n      console.log(\\\"WebSocket closed let's reopen\\\");\\n      this.connect();\\n    };\\n  }\\n\\n  disconnect() {\\n    this.socketRef.close();\\n  }\\n\\n  socketNewMessage(data) {\\n    const parsedData = JSON.parse(data);\\n    const command = parsedData.command;\\n    if (Object.keys(this.callbacks).length === 0) {\\n      return;\\n    }\\n    if (command === \\\"messages\\\") {\\n      this.callbacks[command](parsedData.messages);\\n    }\\n    if (command === \\\"new_message\\\") {\\n      this.callbacks[command](parsedData.message);\\n    }\\n  }\\n\\n  fetchMessages(username, chatId) {\\n    this.sendMessage({\\n      command: \\\"fetch_messages\\\",\\n      username: username,\\n      chatId: chatId\\n    });\\n  }\\n\\n  newChatMessage(message) {\\n    this.sendMessage({\\n      command: \\\"new_message\\\",\\n      from: message.from,\\n      message: message.content,\\n      chatId: message.chatId\\n    });\\n  }\\n\\n  addCallbacks(messagesCallback, newMessageCallback) {\\n    this.callbacks[\\\"messages\\\"] = messagesCallback;\\n    this.callbacks[\\\"new_message\\\"] = newMessageCallback;\\n  }\\n\\n  sendMessage(data) {\\n    try {\\n      this.socketRef.send(JSON.stringify({ ...data }));\\n    } catch (err) {\\n      console.log(err.message);\\n    }\\n  }\\n\\n  state() {\\n    return this.socketRef.readyState;\\n  }\\n}\\n\\nconst WebSocketInstance = WebSocketService.getInstance();\\n\\nexport default WebSocketInstance;\\n\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport WebSocketInstance from \\\"../websocket\\\";\\nimport Hoc from \\\"../hoc/hoc\\\";\\n\\nclass Chat extends React.Component {\\n  state = { message: \\\"\\\" };\\n\\n  initialiseChat() {\\n    this.waitForSocketConnection(() => {\\n      WebSocketInstance.fetchMessages(\\n        this.props.username,\\n        this.props.match.params.chatID\\n      );\\n    });\\n    WebSocketInstance.connect(this.props.match.params.chatID);\\n  }\\n\\n  constructor(props) {\\n    super(props);\\n    this.initialiseChat();\\n  }\\n\\n  waitForSocketConnection(callback) {\\n    const component = this;\\n    setTimeout(function () {\\n      if (WebSocketInstance.state() === 1) {\\n        console.log(\\\"Connection is made\\\");\\n        callback();\\n        return;\\n      } else {\\n        console.log(\\\"wait for connection...\\\");\\n        component.waitForSocketConnection(callback);\\n      }\\n    }, 100);\\n  }\\n\\n  messageChangeHandler = event => {\\n    this.setState({ message: event.target.value });\\n  };\\n\\n  sendMessageHandler = e => {\\n    e.preventDefault();\\n    const messageObject = {\\n      from: this.props.username,\\n      content: this.state.message,\\n      chatId: this.props.match.params.chatID\\n    };\\n    WebSocketInstance.newChatMessage(messageObject);\\n    this.setState({ message: \\\"\\\" });\\n  };\\n\\n  renderTimestamp = timestamp => {\\n    let prefix = \\\"\\\";\\n    const timeDiff = Math.round(\\n      (new Date().getTime() - new Date(timestamp).getTime()) / 60000\\n    );\\n    if (timeDiff < 1) {\\n      // less than one minute ago\\n      prefix = \\\"just now...\\\";\\n    } else if (timeDiff < 60 && timeDiff > 1) {\\n      // less than sixty minutes ago\\n      prefix = `${timeDiff} minutes ago`;\\n    } else if (timeDiff < 24 * 60 && timeDiff > 60) {\\n      // less than 24 hours ago\\n      prefix = `${Math.round(timeDiff / 60)} hours ago`;\\n    } else if (timeDiff < 31 * 24 * 60 && timeDiff > 24 * 60) {\\n      // less than 7 days ago\\n      prefix = `${Math.round(timeDiff / (60 * 24))} days ago`;\\n    } else {\\n      prefix = `${new Date(timestamp)}`;\\n    }\\n    return prefix;\\n  };\\n\\n  renderMessages = messages => {\\n    const currentUser = this.props.username;\\n    return messages.map((message, i, arr) => (\\n      <li\\n        key={message.id}\\n        style={{ marginBottom: arr.length - 1 === i ? \\\"300px\\\" : \\\"15px\\\" }}\\n        className={message.author === currentUser ? \\\"sent\\\" : \\\"replies\\\"}\\n      >\\n        <img\\n          src=\\\"\\\"\\n          alt=\\\"\\\"\\n        />\\n        <p>\\n          {message.content}\\n          <br />\\n          <small>{this.renderTimestamp(message.timestamp)}</small>\\n        </p>\\n      </li>\\n    ));\\n  };\\n\\n  scrollToBottom = () => {\\n    this.messagesEnd.scrollIntoView({ behavior: \\\"smooth\\\" });\\n  };\\n\\n  componentDidMount() {\\n    this.scrollToBottom();\\n  }\\n\\n  componentDidUpdate() {\\n    this.scrollToBottom();\\n  }\\n\\n  componentWillReceiveProps(newProps) {\\n    if (this.props.match.params.chatID !== newProps.match.params.chatID) {\\n      WebSocketInstance.disconnect();\\n      this.waitForSocketConnection(() => {\\n        WebSocketInstance.fetchMessages(\\n          this.props.username,\\n          newProps.match.params.chatID\\n        );\\n      });\\n      WebSocketInstance.connect(newProps.match.params.chatID);\\n    }\\n  }\\n\\n  render() {\\n    return (\\n      <Hoc>\\n        <div className=\\\"messages\\\">\\n          <ul id=\\\"chat-log\\\">\\n            {this.props.messages && this.renderMessages(this.props.messages)}\\n            <div\\n              style={{ float: \\\"left\\\", clear: \\\"both\\\" }}\\n              ref={el => {\\n                this.messagesEnd = el;\\n              }}\\n            />\\n          </ul>\\n        </div>\\n        <div className=\\\"message-input\\\">\\n          <form onSubmit={this.sendMessageHandler}>\\n            <div className=\\\"wrap\\\">\\n              <input\\n                onChange={this.messageChangeHandler}\\n                value={this.state.message}\\n                required\\n                id=\\\"chat-message-input\\\"\\n                type=\\\"text\\\"\\n                placeholder=\\\"Escribe tu mensaje...\\\"\\n              />\\n              <i className=\\\"fa fa-paperclip attachment\\\" aria-hidden=\\\"true\\\" />\\n              <button id=\\\"chat-message-submit\\\" className=\\\"submit\\\">\\n                <i className=\\\"fa fa-paper-plane\\\" aria-hidden=\\\"true\\\" />\\n              </button>\\n            </div>\\n          </form>\\n        </div>\\n      </Hoc>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return {\\n    username: state.auth.username,\\n    messages: state.message.messages\\n  };\\n};\\n\\nexport default connect(mapStateToProps)(Chat);\\n\",\"import React from \\\"react\\\";\\nimport { Route } from \\\"react-router-dom\\\";\\nimport Hoc from \\\"./hoc/hoc\\\";\\n\\nimport Chat from \\\"./containers/Chat\\\";\\n\\nconst BaseRouter = () => (\\n  <Hoc>\\n    <Route exact path=\\\"/:chatID/\\\" component={Chat} />\\n  </Hoc>\\n);\\n\\nexport default BaseRouter;\\n\",\"import axios from \\\"axios\\\";\\nimport * as actionTypes from \\\"./actionTypes\\\";\\nimport { HOST_URL } from \\\"../../settings\\\";\\n\\nexport const authStart = () => {\\n  return {\\n    type: actionTypes.AUTH_START\\n  };\\n};\\n\\nexport const authSuccess = (username, token) => {\\n  return {\\n    type: actionTypes.AUTH_SUCCESS,\\n    token: token,\\n    username: username\\n  };\\n};\\n\\nexport const authFail = error => {\\n  return {\\n    type: actionTypes.AUTH_FAIL,\\n    error: error\\n  };\\n};\\n\\nexport const logout = () => {\\n  localStorage.removeItem(\\\"token\\\");\\n  localStorage.removeItem(\\\"username\\\");\\n  localStorage.removeItem(\\\"expirationDate\\\");\\n  return {\\n    type: actionTypes.AUTH_LOGOUT\\n  };\\n};\\n\\nexport const checkAuthTimeout = expirationTime => {\\n  return dispatch => {\\n    setTimeout(() => {\\n      dispatch(logout());\\n    }, expirationTime * 1000);\\n  };\\n};\\n\\nexport const authLogin = (username, password) => {\\n  return dispatch => {\\n    dispatch(authStart());\\n    axios\\n      .post(`${HOST_URL}/rest-auth/login/`, {\\n        username: username,\\n        password: password\\n      })\\n      .then(res => {\\n        const token = res.data.key;\\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\\n        localStorage.setItem(\\\"token\\\", token);\\n        localStorage.setItem(\\\"username\\\", username);\\n        localStorage.setItem(\\\"expirationDate\\\", expirationDate);\\n        dispatch(authSuccess(username, token));\\n        dispatch(checkAuthTimeout(3600));\\n      })\\n      .catch(err => {\\n        dispatch(authFail(err));\\n      });\\n  };\\n};\\n\\nexport const authrfid = (username, rfid) => {\\n  return dispatch => {\\n    dispatch(authStart());\\n    axios\\n      .post(`${HOST_URL}/rest-auth/rfid/`, {\\n        username: username,\\n        rfid: rfid\\n      })\\n      .then(res => {\\n        const token = res.data.key;\\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\\n        localStorage.setItem(\\\"token\\\", token);\\n        localStorage.setItem(\\\"username\\\", username);\\n        localStorage.setItem(\\\"expirationDate\\\", expirationDate);\\n        dispatch(authSuccess(username, token));\\n        dispatch(checkAuthTimeout(3600));\\n      })\\n      .catch(err => {\\n        dispatch(authFail(err));\\n      });\\n  };\\n};\\n\\nexport const authSignup = (username, email, password1, password2) => {\\n  return dispatch => {\\n    dispatch(authStart());\\n    axios\\n      .post(`${HOST_URL}/rest-auth/registration/`, {\\n        username: username,\\n        email: email,\\n        password1: password1,\\n        password2: password2\\n      })\\n      .then(res => {\\n        const token = res.data.key;\\n        const expirationDate = new Date(new Date().getTime() + 3600 * 1000);\\n        localStorage.setItem(\\\"token\\\", token);\\n        localStorage.setItem(\\\"username\\\", username);\\n        localStorage.setItem(\\\"expirationDate\\\", expirationDate);\\n        dispatch(authSuccess(username, token));\\n        dispatch(checkAuthTimeout(3600));\\n      })\\n      .catch(err => {\\n        dispatch(authFail(err));\\n      });\\n  };\\n};\\n\\nexport const authCheckState = () => {\\n  return dispatch => {\\n    const token = localStorage.getItem(\\\"token\\\");\\n    const username = localStorage.getItem(\\\"username\\\");\\n    if (token === undefined) {\\n      dispatch(logout());\\n    } else {\\n      const expirationDate = new Date(localStorage.getItem(\\\"expirationDate\\\"));\\n      if (expirationDate <= new Date()) {\\n        dispatch(logout());\\n      } else {\\n        dispatch(authSuccess(username, token));\\n        dispatch(\\n          checkAuthTimeout(\\n            (expirationDate.getTime() - new Date().getTime()) / 1000\\n          )\\n        );\\n      }\\n    }\\n  };\\n};\\n\",\"import axios from \\\"axios\\\";\\nimport * as actionTypes from \\\"./actionTypes\\\";\\nimport { HOST_URL } from \\\"../../settings\\\";\\n\\nexport const addMessage = message => {\\n  return {\\n    type: actionTypes.ADD_MESSAGE,\\n    message: message\\n  };\\n};\\n\\nexport const setMessages = messages => {\\n  return {\\n    type: actionTypes.SET_MESSAGES,\\n    messages: messages\\n  };\\n};\\n\\nconst getUserChatsSuccess = chats => {\\n  return {\\n    type: actionTypes.GET_CHATS_SUCCESS,\\n    chats: chats\\n  };\\n};\\n\\nexport const getUserChats = (username, token) => {\\n  return dispatch => {\\n    axios.defaults.xsrfHeaderName = \\\"X-CSRFTOKEN\\\";\\n    axios.defaults.xsrfCookieName = \\\"csrftoken\\\";\\n    axios.defaults.headers = {\\n      \\\"Content-Type\\\": \\\"application/json\\\",\\n      Authorization: `Token ${token}`\\n    };\\n    axios\\n      .get(`${HOST_URL}/chat/?username=${username}`)\\n      .then(res => dispatch(getUserChatsSuccess(res.data)));\\n  };\\n};\\n\",\"import React from \\\"react\\\";\\nimport { NavLink } from \\\"react-router-dom\\\";\\n\\nconst Contact = props => (\\n  <NavLink to={`${props.chatURL}`} style={{ color: \\\"#fff\\\" }}>\\n    <li className=\\\"contact\\\">\\n      <div className=\\\"wrap\\\">\\n        <span className={`contact-status ${props.status}`} />\\n        <img src={props.picURL} alt=\\\"\\\" />\\n        <div className=\\\"meta\\\">\\n          <p className=\\\"name\\\">{props.name}</p>\\n          {/* <p className=\\\"preview\\\">You just got LITT up, Mike.</p> */}\\n        </div>\\n      </div>\\n    </li>\\n  </NavLink>\\n);\\n\\nexport default Contact;\\n\",\"import React from \\\"react\\\";\\nimport { Spin, Icon } from \\\"antd\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport * as actions from \\\"../store/actions/auth\\\";\\nimport * as navActions from \\\"../store/actions/nav\\\";\\nimport * as messageActions from \\\"../store/actions/message\\\";\\nimport Contact from \\\"../components/Contact\\\";\\n\\nconst antIcon = <Icon type=\\\"loading\\\" style={{ fontSize: 24 }} spin />;\\n\\nclass Sidepanel extends React.Component {\\n  state = {\\n    loginForm: true\\n  };\\n\\n  waitForAuthDetails() {\\n    const component = this;\\n    setTimeout(function () {\\n      if (\\n        component.props.token !== null &&\\n        component.props.token !== undefined\\n      ) {\\n        component.props.getUserChats(\\n          component.props.username,\\n          component.props.token\\n        );\\n        return;\\n      } else {\\n        console.log(\\\"waiting for authentication details...\\\");\\n        component.waitForAuthDetails();\\n      }\\n    }, 100);\\n  }\\n\\n  componentDidMount() {\\n    this.waitForAuthDetails();\\n  }\\n\\n  openAddChatPopup() {\\n    this.props.addChat();\\n  }\\n\\n  changeForm = () => {\\n    this.setState({ loginForm: !this.state.loginForm });\\n  };\\n\\n  authenticate = e => {\\n    e.preventDefault();\\n    if (this.state.loginForm) {\\n      this.props.login(e.target.username.value, e.target.password.value);\\n    } else {\\n      this.props.signup(\\n        e.target.username.value,\\n        e.target.email.value,\\n        e.target.password.value,\\n        e.target.password2.value\\n      );\\n    }\\n  };\\n\\n  render() {\\n    let activeChats = this.props.chats.map(c => {\\n      return (\\n        <Contact\\n          key={c.id}\\n          name=\\\"Usuario\\\"\\n          picURL=\\\"https://www.flaticon.es/icono-gratis/imagen-de-usuario-con-fondo-negro_17004\\\"\\n          status=\\\"online\\\"\\n          chatURL={`/${c.id}`}\\n        />\\n      );\\n    });\\n    return (\\n      <div id=\\\"sidepanel\\\">\\n        <div id=\\\"profile\\\">\\n          <div className=\\\"wrap\\\">\\n            <img\\n              id=\\\"profile-img\\\"\\n              src=\\\"../219983.png\\\"\\n              className=\\\"online\\\"\\n              alt=\\\"\\\"\\n            />\\n            <p>Ingresar</p>\\n            <div id=\\\"status-options\\\">\\n              <ul>\\n                <li id=\\\"status-online\\\" className=\\\"active\\\">\\n                  <span className=\\\"status-circle\\\" /> <p>En linea</p>\\n                </li>\\n                <li id=\\\"status-away\\\">\\n                  <span className=\\\"status-circle\\\" /> <p>Lejos</p>\\n                </li>\\n                <li id=\\\"status-busy\\\">\\n                  <span className=\\\"status-circle\\\" /> <p>Ocupado</p>\\n                </li>\\n                <li id=\\\"status-offline\\\">\\n                  <span className=\\\"status-circle\\\" /> <p>Fuera de linea</p>\\n                </li>\\n              </ul>\\n            </div>\\n            <div id=\\\"expanded\\\">\\n              {this.props.loading ? (\\n                <Spin indicator={antIcon} />\\n              ) : this.props.isAuthenticated ? (\\n                <button onClick={() => this.props.logout()} className=\\\"authBtn\\\">\\n                  <span>Salir</span>\\n                </button>\\n              ) : (\\n                <div>\\n                  <form method=\\\"POST\\\" onSubmit={this.authenticate}>\\n                    <button type=\\\"button\\\" id=\\\"btn-abrir-popup1\\\" class=\\\"btn-abrir-popup\\\" onClick={() => abrir1()}>Log In</button>\\n                    <div class=\\\"overlay\\\" id=\\\"overlay1\\\">\\n                      <div class=\\\"popup\\\" id=\\\"popup1\\\">\\n                        <a href=\\\"#\\\" id=\\\"btn-cerrar-popup1\\\" class=\\\"btn-cerrar-popup\\\">X<i></i></a>\\n                        <form method=\\\"POST\\\" onSubmit={this.authenticate}>\\n                          <div>\\n                            <input name=\\\"username\\\" type=\\\"text\\\" placeholder=\\\"Usuario\\\" />\\n                            <input name=\\\"password\\\" type=\\\"password\\\" placeholder=\\\"Contraseña\\\" />\\n                          </div>\\n                          <button type=\\\"submit\\\">Verificar</button>\\n                        </form>\\n                      </div>\\n                    </div>\\n                    <button type=\\\"button\\\" id=\\\"btn-abrir-popup2\\\" class=\\\"btn-abrir-popup\\\" onClick={() => abrir2()}>RfID</button>\\n                    <element onload={() => myfunction_onload()}></element>\\n                    <div class=\\\"overlay\\\" id=\\\"overlay2\\\">\\n                      <div class=\\\"popup\\\" id=\\\"popup2\\\">\\n                        <script type=\\\"text/javascript\\\" src=\\\"https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js\\\"></script>\\n                        <a href=\\\"#\\\" id=\\\"btn-cerrar-popup2\\\" class=\\\"btn-cerrar-popup\\\">X<i></i></a>\\n                        <input type=\\\"password\\\" placeholder=\\\"Acerque la tarjeta\\\" id=\\\"tarjeta\\\" />\\n                        <button type=\\\"submit\\\" onClick={() => myfunction_clickevent()}>Verificar Carnet</button>\\n                        <p class=\\\"mensaje\\\">Tu usuario es:</p>\\n                        <input type=\\\"text\\\" placeholder=\\\"#######\\\" />\\n                      </div>\\n                    </div>\\n                  </form>\\n                </div>\\n              )}\\n            </div>\\n          </div>\\n        </div>\\n        <div id=\\\"search\\\">\\n          <label htmlFor=\\\"\\\">\\n            <i className=\\\"fa fa-search\\\" aria-hidden=\\\"true\\\" />\\n          </label>\\n          <input type=\\\"text\\\" placeholder=\\\"Buscar Chat...\\\" />\\n        </div>\\n        <div id=\\\"contacts\\\">\\n          <ul>{activeChats}</ul>\\n        </div>\\n        <div id=\\\"bottom-bar\\\">\\n          <button id=\\\"addChat\\\" onClick={() => this.openAddChatPopup()}>\\n            <i className=\\\"fa fa-user-plus fa-fw\\\" aria-hidden=\\\"true\\\" />\\n            <span>Crear chat</span>\\n          </button>\\n          <button id=\\\"settings\\\">\\n            <i className=\\\"fa fa-cog fa-fw\\\" aria-hidden=\\\"true\\\" />\\n            <span>Configuración</span>\\n          </button>\\n        </div>\\n      </div>\\n    );\\n  }\\n}\\n\\nfunction rfid() {\\n  var a = \\\"{{tagId}}\\\";\\n}\\n\\nfunction myfunction_onload() {\\n  var $\\n  $.ajax({\\n    url: \\\"app.py\\\",\\n    context: document.body\\n  })\\n}\\n\\nfunction myfunction_clickevent() {\\n  var $\\n  $.ajax({\\n    url: \\\"/test\\\",\\n    context: document.body\\n  });\\n}\\n\\n//Abrir pop up\\nfunction abrir1() {\\n  var btnAbrirPopup = document.getElementById('btn-abrir-popup1'),\\n    overlay = document.getElementById('overlay1'),\\n    popup = document.getElementById('popup1'),\\n    btnCerrarPopup = document.getElementById('btn-cerrar-popup1');\\n\\n  btnAbrirPopup.addEventListener('click', function () {\\n    overlay.classList.add('active');\\n    popup.classList.add('active');\\n  });\\n\\n  btnCerrarPopup.addEventListener('click', function (e) {\\n    e.preventDefault();\\n    overlay.classList.remove('active');\\n    popup.classList.remove('active');\\n  });\\n}\\n\\nfunction abrir2() {\\n  var btnAbrirPopup = document.getElementById('btn-abrir-popup2'),\\n    overlay = document.getElementById('overlay2'),\\n    popup = document.getElementById('popup2'),\\n    btnCerrarPopup = document.getElementById('btn-cerrar-popup2');\\n\\n  btnAbrirPopup.addEventListener('click', function () {\\n    overlay.classList.add('active');\\n    popup.classList.add('active');\\n  });\\n\\n  btnCerrarPopup.addEventListener('click', function (e) {\\n    e.preventDefault();\\n    overlay.classList.remove('active');\\n    popup.classList.remove('active');\\n  });\\n}\\n\\n\\nconst mapStateToProps = state => {\\n  return {\\n    isAuthenticated: state.auth.token !== null,\\n    loading: state.auth.loading,\\n    token: state.auth.token,\\n    username: state.auth.username,\\n    chats: state.message.chats\\n  };\\n};\\n\\nconst mapDispatchToProps = dispatch => {\\n  return {\\n    login: (userName, password) =>\\n      dispatch(actions.authLogin(userName, password)),\\n    logout: () => dispatch(actions.logout()),\\n    signup: (username, email, password1, password2) =>\\n      dispatch(actions.authSignup(username, email, password1, password2)),\\n    addChat: () => dispatch(navActions.openAddChatPopup()),\\n    getUserChats: (username, token) =>\\n      dispatch(messageActions.getUserChats(username, token))\\n  };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  mapDispatchToProps\\n)(Sidepanel);\\n\",\"import * as actionTypes from \\\"./actionTypes\\\";\\n\\nexport const openAddChatPopup = () => {\\n  return {\\n    type: actionTypes.OPEN_ADD_CHAT_POPUP\\n  };\\n};\\n\\nexport const closeAddChatPopup = () => {\\n  return {\\n    type: actionTypes.CLOSE_ADD_CHAT_POPUP\\n  };\\n};\\n\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { Redirect } from \\\"react-router-dom\\\";\\nimport Hoc from \\\"../hoc/hoc\\\";\\n\\nclass Profile extends React.Component {\\n  render() {\\n    if (this.props.token === null) {\\n      return <Redirect to=\\\"/\\\" />;\\n    }\\n    return (\\n      <div className=\\\"contact-profile\\\">\\n        {this.props.username !== null ? (\\n          <Hoc>\\n            <img src=\\\"\\\" alt=\\\"\\\" />\\n            <p>{this.props.username}</p>\\n            <div className=\\\"social-media\\\">\\n              <i className=\\\"fa fa-facebook\\\" aria-hidden=\\\"true\\\" />\\n              <i className=\\\"fa fa-twitter\\\" aria-hidden=\\\"true\\\" />\\n              <i className=\\\"fa fa-instagram\\\" aria-hidden=\\\"true\\\" />\\n            </div>\\n          </Hoc>\\n        ) : null}\\n      </div>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return {\\n    username: state.auth.username,\\n    token: state.auth.token\\n  };\\n};\\n\\nexport default connect(mapStateToProps)(Profile);\\n\",\"import React from \\\"react\\\";\\nimport { Form, Button, Select } from \\\"antd\\\";\\nimport axios from \\\"axios\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { withRouter } from \\\"react-router-dom\\\";\\nimport * as navActions from \\\"../store/actions/nav\\\";\\nimport * as messageActions from \\\"../store/actions/message\\\";\\nimport { HOST_URL } from \\\"../settings\\\";\\n\\nconst FormItem = Form.Item;\\n\\nfunction hasErrors(fieldsError) {\\n  return Object.keys(fieldsError).some(field => fieldsError[field]);\\n}\\n\\nclass HorizontalAddChatForm extends React.Component {\\n  state = {\\n    usernames: [],\\n    error: null\\n  };\\n\\n  handleChange = value => {\\n    this.setState({\\n      usernames: value\\n    });\\n  };\\n\\n  componentDidMount() {\\n    this.props.form.validateFields();\\n  }\\n\\n  handleSubmit = e => {\\n    const { usernames } = this.state;\\n    e.preventDefault();\\n    this.props.form.validateFields((err, values) => {\\n      if (!err) {\\n        const combined = [...usernames, this.props.username];\\n        axios.defaults.xsrfHeaderName = \\\"X-CSRFTOKEN\\\";\\n        axios.defaults.xsrfCookieName = \\\"csrftoken\\\";\\n        axios.defaults.headers = {\\n          \\\"Content-Type\\\": \\\"application/json\\\",\\n          Authorization: `Token ${this.props.token}`\\n        };\\n        axios\\n          .post(`${HOST_URL}/chat/create/`, {\\n            messages: [],\\n            participants: combined\\n          })\\n          .then(res => {\\n            this.props.history.push(`/${res.data.id}`);\\n            this.props.closeAddChatPopup();\\n            this.props.getUserChats(this.props.username, this.props.token);\\n          })\\n          .catch(err => {\\n            console.error(err);\\n            this.setState({\\n              error: err\\n            });\\n          });\\n      }\\n    });\\n  };\\n\\n  render() {\\n    const {\\n      getFieldDecorator,\\n      getFieldsError,\\n      getFieldError,\\n      isFieldTouched\\n    } = this.props.form;\\n\\n    const userNameError =\\n      isFieldTouched(\\\"userName\\\") && getFieldError(\\\"userName\\\");\\n    return (\\n      <Form layout=\\\"inline\\\" onSubmit={this.handleSubmit}>\\n        {this.state.error ? `${this.state.error}` : null}\\n        <FormItem\\n          validateStatus={userNameError ? \\\"error\\\" : \\\"\\\"}\\n          help={userNameError || \\\"\\\"}\\n        >\\n          {getFieldDecorator(\\\"userName\\\", {\\n            rules: [\\n              {\\n                required: true,\\n                message:\\n                  \\\"Por favor ingresa al nombre con quien deseas hablar\\\"\\n              }\\n            ]\\n          })(\\n            <Select\\n              mode=\\\"tags\\\"\\n              style={{ width: \\\"100%\\\" }}\\n              placeholder=\\\"Tags Mode\\\"\\n              onChange={this.handleChange}\\n            >\\n              {[]}\\n            </Select>\\n          )}\\n        </FormItem>\\n        <FormItem>\\n          <Button\\n            type=\\\"primary\\\"\\n            htmlType=\\\"submit\\\"\\n            disabled={hasErrors(getFieldsError())}\\n          >\\n            Start a chat\\n          </Button>\\n        </FormItem>\\n      </Form>\\n    );\\n  }\\n}\\n\\nconst AddChatForm = Form.create()(HorizontalAddChatForm);\\n\\nconst mapStateToProps = state => {\\n  return {\\n    token: state.auth.token,\\n    username: state.auth.username\\n  };\\n};\\n\\nconst mapDispatchToProps = dispatch => {\\n  return {\\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\\n    getUserChats: (username, token) =>\\n      dispatch(messageActions.getUserChats(username, token))\\n  };\\n};\\n\\nexport default withRouter(\\n  connect(\\n    mapStateToProps,\\n    mapDispatchToProps\\n  )(AddChatForm)\\n);\\n\",\"import React from \\\"react\\\";\\nimport { Modal } from \\\"antd\\\";\\nimport Form from \\\"./Form\\\";\\n\\nclass AddChatModal extends React.Component {\\n  render() {\\n    return (\\n      <Modal\\n        centered\\n        footer={null}\\n        visible={this.props.isVisible}\\n        onCancel={this.props.close}\\n      >\\n        <Form />\\n      </Modal>\\n    );\\n  }\\n}\\n\\nexport default AddChatModal;\\n\",\"import React from \\\"react\\\";\\nimport { connect } from \\\"react-redux\\\";\\nimport { BrowserRouter as Router } from \\\"react-router-dom\\\";\\nimport BaseRouter from \\\"./routes\\\";\\nimport Sidepanel from \\\"./containers/Sidepanel\\\";\\nimport Profile from \\\"./containers/Profile\\\";\\nimport AddChatModal from \\\"./containers/Popup\\\";\\nimport * as actions from \\\"./store/actions/auth\\\";\\nimport * as navActions from \\\"./store/actions/nav\\\";\\nimport * as messageActions from \\\"./store/actions/message\\\";\\nimport WebSocketInstance from \\\"./websocket\\\";\\nimport \\\"./assets/style.css\\\";\\n\\nclass App extends React.Component {\\n  componentDidMount() {\\n    this.props.onTryAutoSignup();\\n  }\\n\\n  constructor(props) {\\n    super(props);\\n    WebSocketInstance.addCallbacks(\\n      this.props.setMessages.bind(this),\\n      this.props.addMessage.bind(this)\\n    );\\n  }\\n\\n  render() {\\n    return (\\n      <Router>\\n        <div id=\\\"frame\\\">\\n          <Sidepanel />\\n          <div className=\\\"content\\\">\\n            <AddChatModal\\n              isVisible={this.props.showAddChatPopup}\\n              close={() => this.props.closeAddChatPopup()}\\n            />\\n            <Profile />\\n            <BaseRouter />\\n          </div>\\n        </div>\\n      </Router>\\n    );\\n  }\\n}\\n\\nconst mapStateToProps = state => {\\n  return {\\n    showAddChatPopup: state.nav.showAddChatPopup,\\n    authenticated: state.auth.token\\n  };\\n};\\n\\nconst mapDispatchToProps = dispatch => {\\n  return {\\n    onTryAutoSignup: () => dispatch(actions.authCheckState()),\\n    closeAddChatPopup: () => dispatch(navActions.closeAddChatPopup()),\\n    addMessage: message => dispatch(messageActions.addMessage(message)),\\n    setMessages: messages => dispatch(messageActions.setMessages(messages))\\n  };\\n};\\n\\nexport default connect(\\n  mapStateToProps,\\n  mapDispatchToProps\\n)(App);\\n\",\"import React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\nimport { createStore, compose, applyMiddleware, combineReducers } from \\\"redux\\\";\\nimport { Provider } from \\\"react-redux\\\";\\nimport thunk from \\\"redux-thunk\\\";\\nimport \\\"antd/dist/antd.css\\\";\\nimport authReducer from \\\"./store/reducers/auth\\\";\\nimport navReducer from \\\"./store/reducers/nav\\\";\\nimport messageReducer from \\\"./store/reducers/message\\\";\\nimport App from \\\"./App\\\";\\n\\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\\n\\nfunction configureStore() {\\n  const rootReducer = combineReducers({\\n    auth: authReducer,\\n    nav: navReducer,\\n    message: messageReducer\\n  });\\n\\n  const store = createStore(\\n    rootReducer,\\n    composeEnhancers(applyMiddleware(thunk))\\n  );\\n\\n  //   if (module.hot) {\\n  //     module.hot.accept(\\\"./store/reducers\\\", () => {\\n  //       const nextRootReducer = require(\\\"./store/reducers/auth\\\");\\n  //       store.replaceReducer(nextRootReducer);\\n  //     });\\n  //   }\\n\\n  return store;\\n}\\n\\nconst store = configureStore();\\n\\nconst app = (\\n  <Provider store={store}>\\n    <App />\\n  </Provider>\\n);\\n\\nReactDOM.render(app, document.getElementById(\\\"app\\\"));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e,t,a){e.exports=a(295)},293:function(e,t,a){},295:function(e,t,a){\"use strict\";a.r(t);var n=a(1),r=a.n(n),s=a(7),c=a.n(s),o=a(40),i=a(19),l=a(136),u=(a(156),a(77)),m=function(e,t){return Object(u.a)({},e,t)},p={token:null,username:null,error:null,loading:!1},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"AUTH_START\":return function(e,t){return m(e,{error:null,loading:!0})}(e);case\"AUTH_SUCCESS\":return function(e,t){return m(e,{token:t.token,username:t.username,error:null,loading:!1})}(e,t);case\"AUTH_FAIL\":return function(e,t){return m(e,{error:t.error,loading:!1})}(e,t);case\"AUTH_LOGOUT\":return function(e,t){return m(e,{token:null,username:null})}(e);default:return e}},h={showAddChatPopup:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"OPEN_ADD_CHAT_POPUP\":return function(e,t){return m(e,{showAddChatPopup:!0})}(e);case\"CLOSE_ADD_CHAT_POPUP\":return function(e,t){return m(e,{showAddChatPopup:!1})}(e);default:return e}},g=a(76),E={messages:[],chats:[]},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case\"ADD_MESSAGE\":return function(e,t){return m(e,{messages:Object(g.a)(e.messages).concat([t.message])})}(e,t);case\"SET_MESSAGES\":return function(e,t){return m(e,{messages:t.messages.reverse()})}(e,t);case\"GET_CHATS_SUCCESS\":return function(e,t){return m(e,{chats:t.chats})}(e,t);default:return e}},b=a(18),y=a(20),k=a(26),O=a(16),C=a(21),S=a(41),w=a(301),j=a(158),T=function(e){return e.children},A=\"localhost\",D=\"ws://127.0.0.1:8000\";A=\"http://127.0.0.1:8000\",D=\"ws://127.0.0.1:8000\";var N=function(){function e(){Object(b.a)(this,e),this.callbacks={},this.socketRef=null}return Object(O.a)(e,null,[{key:\"getInstance\",value:function(){return e.instance||(e.instance=new e),e.instance}}]),Object(O.a)(e,[{key:\"connect\",value:function(e){var t=this,a=\"\".concat(D,\"/ws/chat/\").concat(e,\"/\");this.socketRef=new WebSocket(a),this.socketRef.onopen=function(){console.log(\"WebSocket open\")},this.socketRef.onmessage=function(e){t.socketNewMessage(e.data)},this.socketRef.onerror=function(e){console.log(e.message)},this.socketRef.onclose=function(){console.log(\"WebSocket closed let's reopen\"),t.connect()}}},{key:\"disconnect\",value:function(){this.socketRef.close()}},{key:\"socketNewMessage\",value:function(e){var t=JSON.parse(e),a=t.command;0!==Object.keys(this.callbacks).length&&(\"messages\"===a&&this.callbacks[a](t.messages),\"new_message\"===a&&this.callbacks[a](t.message))}},{key:\"fetchMessages\",value:function(e,t){this.sendMessage({command:\"fetch_messages\",username:e,chatId:t})}},{key:\"newChatMessage\",value:function(e){this.sendMessage({command:\"new_message\",from:e.from,message:e.content,chatId:e.chatId})}},{key:\"addCallbacks\",value:function(e,t){this.callbacks.messages=e,this.callbacks.new_message=t}},{key:\"sendMessage\",value:function(e){try{this.socketRef.send(JSON.stringify(Object(u.a)({},e)))}catch(t){console.log(t.message)}}},{key:\"state\",value:function(){return this.socketRef.readyState}}]),e}();N.instance=null;var _=N.getInstance(),I=function(e){function t(e){var a;return Object(b.a)(this,t),(a=Object(y.a)(this,Object(k.a)(t).call(this,e))).state={message:\"\"},a.messageChangeHandler=function(e){a.setState({message:e.target.value})},a.sendMessageHandler=function(e){e.preventDefault();var t={from:a.props.username,content:a.state.message,chatId:a.props.match.params.chatID};_.newChatMessage(t),a.setState({message:\"\"})},a.renderTimestamp=function(e){var t=Math.round(((new Date).getTime()-new Date(e).getTime())/6e4);return t<1?\"just now...\":t<60&&t>1?\"\".concat(t,\" minutes ago\"):t<1440&&t>60?\"\".concat(Math.round(t/60),\" hours ago\"):t<44640&&t>1440?\"\".concat(Math.round(t/1440),\" days ago\"):\"\".concat(new Date(e))},a.renderMessages=function(e){var t=a.props.username;return e.map(function(e,n,s){return r.a.createElement(\"li\",{key:e.id,style:{marginBottom:s.length-1===n?\"300px\":\"15px\"},className:e.author===t?\"sent\":\"replies\"},r.a.createElement(\"img\",{src:\"\",alt:\"\"}),r.a.createElement(\"p\",null,e.content,r.a.createElement(\"br\",null),r.a.createElement(\"small\",null,a.renderTimestamp(e.timestamp))))})},a.scrollToBottom=function(){a.messagesEnd.scrollIntoView({behavior:\"smooth\"})},a.initialiseChat(),a}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"initialiseChat\",value:function(){var e=this;this.waitForSocketConnection(function(){_.fetchMessages(e.props.username,e.props.match.params.chatID)}),_.connect(this.props.match.params.chatID)}}]),Object(O.a)(t,[{key:\"waitForSocketConnection\",value:function(e){var t=this;setTimeout(function(){if(1===_.state())return console.log(\"Connection is made\"),void e();console.log(\"wait for connection...\"),t.waitForSocketConnection(e)},100)}},{key:\"componentDidMount\",value:function(){this.scrollToBottom()}},{key:\"componentDidUpdate\",value:function(){this.scrollToBottom()}},{key:\"componentWillReceiveProps\",value:function(e){var t=this;this.props.match.params.chatID!==e.match.params.chatID&&(_.disconnect(),this.waitForSocketConnection(function(){_.fetchMessages(t.props.username,e.match.params.chatID)}),_.connect(e.match.params.chatID))}},{key:\"render\",value:function(){var e=this;return r.a.createElement(T,null,r.a.createElement(\"div\",{className:\"messages\"},r.a.createElement(\"ul\",{id:\"chat-log\"},this.props.messages&&this.renderMessages(this.props.messages),r.a.createElement(\"div\",{style:{float:\"left\",clear:\"both\"},ref:function(t){e.messagesEnd=t}}))),r.a.createElement(\"div\",{className:\"message-input\"},r.a.createElement(\"form\",{onSubmit:this.sendMessageHandler},r.a.createElement(\"div\",{className:\"wrap\"},r.a.createElement(\"input\",{onChange:this.messageChangeHandler,value:this.state.message,required:!0,id:\"chat-message-input\",type:\"text\",placeholder:\"Escribe tu mensaje...\"}),r.a.createElement(\"i\",{className:\"fa fa-paperclip attachment\",\"aria-hidden\":\"true\"}),r.a.createElement(\"button\",{id:\"chat-message-submit\",className:\"submit\"},r.a.createElement(\"i\",{className:\"fa fa-paper-plane\",\"aria-hidden\":\"true\"}))))))}}]),t}(r.a.Component),P=Object(i.b)(function(e){return{username:e.auth.username,messages:e.message.messages}})(I),U=function(){return r.a.createElement(T,null,r.a.createElement(j.a,{exact:!0,path:\"/:chatID/\",component:P}))},M=a(22),L=a(296),x=a(23),F=a.n(x),H=function(e,t){return{type:\"AUTH_SUCCESS\",token:t,username:e}},R=function(e){return{type:\"AUTH_FAIL\",error:e}},B=function(){return localStorage.removeItem(\"token\"),localStorage.removeItem(\"username\"),localStorage.removeItem(\"expirationDate\"),{type:\"AUTH_LOGOUT\"}},G=function(e){return function(t){setTimeout(function(){t(B())},1e3*e)}},q=function(e,t){return function(a){F.a.defaults.xsrfHeaderName=\"X-CSRFTOKEN\",F.a.defaults.xsrfCookieName=\"csrftoken\",F.a.defaults.headers={\"Content-Type\":\"application/json\",Authorization:\"Token \".concat(t)},F.a.get(\"\".concat(A,\"/chat/?username=\").concat(e)).then(function(e){return a({type:\"GET_CHATS_SUCCESS\",chats:e.data})})}},V=a(302),X=function(e){return r.a.createElement(V.a,{to:\"\".concat(e.chatURL),style:{color:\"#fff\"}},r.a.createElement(\"li\",{className:\"contact\"},r.a.createElement(\"div\",{className:\"wrap\"},r.a.createElement(\"span\",{className:\"contact-status \".concat(e.status)}),r.a.createElement(\"img\",{src:e.picURL,alt:\"\"}),r.a.createElement(\"div\",{className:\"meta\"},r.a.createElement(\"p\",{className:\"name\"},e.name)))))},J=r.a.createElement(M.a,{type:\"loading\",style:{fontSize:24},spin:!0}),W=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={loginForm:!0},a.changeForm=function(){a.setState({loginForm:!a.state.loginForm})},a.authenticate=function(e){e.preventDefault(),a.state.loginForm?a.props.login(e.target.username.value,e.target.password.value):a.props.signup(e.target.username.value,e.target.email.value,e.target.password.value,e.target.password2.value)},a}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"waitForAuthDetails\",value:function(){var e=this;setTimeout(function(){null===e.props.token||void 0===e.props.token?(console.log(\"waiting for authentication details...\"),e.waitForAuthDetails()):e.props.getUserChats(e.props.username,e.props.token)},100)}},{key:\"componentDidMount\",value:function(){this.waitForAuthDetails()}},{key:\"openAddChatPopup\",value:function(){this.props.addChat()}},{key:\"render\",value:function(){var e=this,t=this.props.chats.map(function(e){return r.a.createElement(X,{key:e.id,name:\"Usuario\",picURL:\"https://www.flaticon.es/icono-gratis/imagen-de-usuario-con-fondo-negro_17004\",status:\"online\",chatURL:\"/\".concat(e.id)})});return r.a.createElement(\"div\",{id:\"sidepanel\"},r.a.createElement(\"div\",{id:\"profile\"},r.a.createElement(\"div\",{className:\"wrap\"},r.a.createElement(\"img\",{id:\"profile-img\",src:\"../219983.png\",className:\"online\",alt:\"\"}),r.a.createElement(\"p\",null,\"Ingresar\"),r.a.createElement(\"div\",{id:\"status-options\"},r.a.createElement(\"ul\",null,r.a.createElement(\"li\",{id:\"status-online\",className:\"active\"},r.a.createElement(\"span\",{className:\"status-circle\"}),\" \",r.a.createElement(\"p\",null,\"En linea\")),r.a.createElement(\"li\",{id:\"status-away\"},r.a.createElement(\"span\",{className:\"status-circle\"}),\" \",r.a.createElement(\"p\",null,\"Lejos\")),r.a.createElement(\"li\",{id:\"status-busy\"},r.a.createElement(\"span\",{className:\"status-circle\"}),\" \",r.a.createElement(\"p\",null,\"Ocupado\")),r.a.createElement(\"li\",{id:\"status-offline\"},r.a.createElement(\"span\",{className:\"status-circle\"}),\" \",r.a.createElement(\"p\",null,\"Fuera de linea\")))),r.a.createElement(\"div\",{id:\"expanded\"},this.props.loading?r.a.createElement(L.a,{indicator:J}):this.props.isAuthenticated?r.a.createElement(\"button\",{onClick:function(){return e.props.logout()},className:\"authBtn\"},r.a.createElement(\"span\",null,\"Salir\")):r.a.createElement(\"div\",null,r.a.createElement(\"form\",{method:\"POST\",onSubmit:this.authenticate},r.a.createElement(\"button\",{type:\"button\",id:\"btn-abrir-popup1\",class:\"btn-abrir-popup\",onClick:function(){return function(){var e=document.getElementById(\"btn-abrir-popup1\"),t=document.getElementById(\"overlay1\"),a=document.getElementById(\"popup1\"),n=document.getElementById(\"btn-cerrar-popup1\");e.addEventListener(\"click\",function(){t.classList.add(\"active\"),a.classList.add(\"active\")}),n.addEventListener(\"click\",function(e){e.preventDefault(),t.classList.remove(\"active\"),a.classList.remove(\"active\")})}()}},\"Log In\"),r.a.createElement(\"div\",{class:\"overlay\",id:\"overlay1\"},r.a.createElement(\"div\",{class:\"popup\",id:\"popup1\"},r.a.createElement(\"a\",{href:\"#\",id:\"btn-cerrar-popup1\",class:\"btn-cerrar-popup\"},\"X\",r.a.createElement(\"i\",null)),r.a.createElement(\"form\",{method:\"POST\",onSubmit:this.authenticate},r.a.createElement(\"div\",null,r.a.createElement(\"input\",{name:\"username\",type:\"text\",placeholder:\"Usuario\"}),r.a.createElement(\"input\",{name:\"password\",type:\"password\",placeholder:\"Contrase\\xf1a\"})),r.a.createElement(\"button\",{type:\"submit\"},\"Verificar\")))),r.a.createElement(\"button\",{type:\"button\",id:\"btn-abrir-popup2\",class:\"btn-abrir-popup\",onClick:function(){return function(){var e=document.getElementById(\"btn-abrir-popup2\"),t=document.getElementById(\"overlay2\"),a=document.getElementById(\"popup2\"),n=document.getElementById(\"btn-cerrar-popup2\");e.addEventListener(\"click\",function(){t.classList.add(\"active\"),a.classList.add(\"active\")}),n.addEventListener(\"click\",function(e){e.preventDefault(),t.classList.remove(\"active\"),a.classList.remove(\"active\")})}()}},\"RfID\"),r.a.createElement(\"element\",{onload:function(){(void 0).ajax({url:\"app.py\",context:document.body})}}),r.a.createElement(\"div\",{class:\"overlay\",id:\"overlay2\"},r.a.createElement(\"div\",{class:\"popup\",id:\"popup2\"},r.a.createElement(\"script\",{type:\"text/javascript\",src:\"https://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js\"}),r.a.createElement(\"a\",{href:\"#\",id:\"btn-cerrar-popup2\",class:\"btn-cerrar-popup\"},\"X\",r.a.createElement(\"i\",null)),r.a.createElement(\"input\",{type:\"password\",placeholder:\"Acerque la tarjeta\",id:\"tarjeta\"}),r.a.createElement(\"button\",{type:\"submit\",onClick:function(){(void 0).ajax({url:\"/test\",context:document.body})}},\"Verificar Carnet\"),r.a.createElement(\"p\",{class:\"mensaje\"},\"Tu usuario es:\"),r.a.createElement(\"input\",{type:\"text\",placeholder:\"#######\"})))))))),r.a.createElement(\"div\",{id:\"search\"},r.a.createElement(\"label\",{htmlFor:\"\"},r.a.createElement(\"i\",{className:\"fa fa-search\",\"aria-hidden\":\"true\"})),r.a.createElement(\"input\",{type:\"text\",placeholder:\"Buscar Chat...\"})),r.a.createElement(\"div\",{id:\"contacts\"},r.a.createElement(\"ul\",null,t)),r.a.createElement(\"div\",{id:\"bottom-bar\"},r.a.createElement(\"button\",{id:\"addChat\",onClick:function(){return e.openAddChatPopup()}},r.a.createElement(\"i\",{className:\"fa fa-user-plus fa-fw\",\"aria-hidden\":\"true\"}),r.a.createElement(\"span\",null,\"Crear chat\")),r.a.createElement(\"button\",{id:\"settings\"},r.a.createElement(\"i\",{className:\"fa fa-cog fa-fw\",\"aria-hidden\":\"true\"}),r.a.createElement(\"span\",null,\"Configuraci\\xf3n\"))))}}]),t}(r.a.Component);var z=Object(i.b)(function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading,token:e.auth.token,username:e.auth.username,chats:e.message.chats}},function(e){return{login:function(t,a){return e(function(e,t){return function(a){a({type:\"AUTH_START\"}),F.a.post(\"\".concat(A,\"/rest-auth/login/\"),{username:e,password:t}).then(function(t){var n=t.data.key,r=new Date((new Date).getTime()+36e5);localStorage.setItem(\"token\",n),localStorage.setItem(\"username\",e),localStorage.setItem(\"expirationDate\",r),a(H(e,n)),a(G(3600))}).catch(function(e){a(R(e))})}}(t,a))},logout:function(){return e(B())},signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:\"AUTH_START\"}),F.a.post(\"\".concat(A,\"/rest-auth/registration/\"),{username:e,email:t,password1:a,password2:n}).then(function(t){var a=t.data.key,n=new Date((new Date).getTime()+36e5);localStorage.setItem(\"token\",a),localStorage.setItem(\"username\",e),localStorage.setItem(\"expirationDate\",n),r(H(e,a)),r(G(3600))}).catch(function(e){r(R(e))})}}(t,a,n,r))},addChat:function(){return e({type:\"OPEN_ADD_CHAT_POPUP\"})},getUserChats:function(t,a){return e(q(t,a))}}})(W),K=a(300),Q=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"render\",value:function(){return null===this.props.token?r.a.createElement(K.a,{to:\"/\"}):r.a.createElement(\"div\",{className:\"contact-profile\"},null!==this.props.username?r.a.createElement(T,null,r.a.createElement(\"img\",{src:\"\",alt:\"\"}),r.a.createElement(\"p\",null,this.props.username),r.a.createElement(\"div\",{className:\"social-media\"},r.a.createElement(\"i\",{className:\"fa fa-facebook\",\"aria-hidden\":\"true\"}),r.a.createElement(\"i\",{className:\"fa fa-twitter\",\"aria-hidden\":\"true\"}),r.a.createElement(\"i\",{className:\"fa fa-instagram\",\"aria-hidden\":\"true\"}))):null)}}]),t}(r.a.Component),Y=Object(i.b)(function(e){return{username:e.auth.username,token:e.auth.token}})(Q),Z=a(299),$=a(297),ee=a(298),te=a(58),ae=a(303),ne=$.a.Item;var re=function(e){function t(){var e,a;Object(b.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={usernames:[],error:null},a.handleChange=function(e){a.setState({usernames:e})},a.handleSubmit=function(e){var t=a.state.usernames;e.preventDefault(),a.props.form.validateFields(function(e,n){if(!e){var r=Object(g.a)(t).concat([a.props.username]);F.a.defaults.xsrfHeaderName=\"X-CSRFTOKEN\",F.a.defaults.xsrfCookieName=\"csrftoken\",F.a.defaults.headers={\"Content-Type\":\"application/json\",Authorization:\"Token \".concat(a.props.token)},F.a.post(\"\".concat(A,\"/chat/create/\"),{messages:[],participants:r}).then(function(e){a.props.history.push(\"/\".concat(e.data.id)),a.props.closeAddChatPopup(),a.props.getUserChats(a.props.username,a.props.token)}).catch(function(e){console.error(e),a.setState({error:e})})}})},a}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"componentDidMount\",value:function(){this.props.form.validateFields()}},{key:\"render\",value:function(){var e,t=this.props.form,a=t.getFieldDecorator,n=t.getFieldsError,s=t.getFieldError,c=(0,t.isFieldTouched)(\"userName\")&&s(\"userName\");return r.a.createElement($.a,{layout:\"inline\",onSubmit:this.handleSubmit},this.state.error?\"\".concat(this.state.error):null,r.a.createElement(ne,{validateStatus:c?\"error\":\"\",help:c||\"\"},a(\"userName\",{rules:[{required:!0,message:\"Por favor ingresa al nombre con quien deseas hablar\"}]})(r.a.createElement(ee.a,{mode:\"tags\",style:{width:\"100%\"},placeholder:\"Tags Mode\",onChange:this.handleChange},[]))),r.a.createElement(ne,null,r.a.createElement(te.a,{type:\"primary\",htmlType:\"submit\",disabled:(e=n(),Object.keys(e).some(function(t){return e[t]}))},\"Start a chat\")))}}]),t}(r.a.Component),se=$.a.create()(re),ce=Object(ae.a)(Object(i.b)(function(e){return{token:e.auth.token,username:e.auth.username}},function(e){return{closeAddChatPopup:function(){return e({type:\"CLOSE_ADD_CHAT_POPUP\"})},getUserChats:function(t,a){return e(q(t,a))}}})(se)),oe=function(e){function t(){return Object(b.a)(this,t),Object(y.a)(this,Object(k.a)(t).apply(this,arguments))}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"render\",value:function(){return r.a.createElement(Z.a,{centered:!0,footer:null,visible:this.props.isVisible,onCancel:this.props.close},r.a.createElement(ce,null))}}]),t}(r.a.Component),ie=(a(293),function(e){function t(e){var a;return Object(b.a)(this,t),a=Object(y.a)(this,Object(k.a)(t).call(this,e)),_.addCallbacks(a.props.setMessages.bind(Object(S.a)(Object(S.a)(a))),a.props.addMessage.bind(Object(S.a)(Object(S.a)(a)))),a}return Object(C.a)(t,e),Object(O.a)(t,[{key:\"componentDidMount\",value:function(){this.props.onTryAutoSignup()}}]),Object(O.a)(t,[{key:\"render\",value:function(){var e=this;return r.a.createElement(w.a,null,r.a.createElement(\"div\",{id:\"frame\"},r.a.createElement(z,null),r.a.createElement(\"div\",{className:\"content\"},r.a.createElement(oe,{isVisible:this.props.showAddChatPopup,close:function(){return e.props.closeAddChatPopup()}}),r.a.createElement(Y,null),r.a.createElement(U,null))))}}]),t}(r.a.Component)),le=Object(i.b)(function(e){return{showAddChatPopup:e.nav.showAddChatPopup,authenticated:e.auth.token}},function(e){return{onTryAutoSignup:function(){return e(function(e){var t=localStorage.getItem(\"token\"),a=localStorage.getItem(\"username\");if(void 0===t)e(B());else{var n=new Date(localStorage.getItem(\"expirationDate\"));n<=new Date?e(B()):(e(H(a,t)),e(G((n.getTime()-(new Date).getTime())/1e3)))}})},closeAddChatPopup:function(){return e({type:\"CLOSE_ADD_CHAT_POPUP\"})},addMessage:function(t){return e(function(e){return{type:\"ADD_MESSAGE\",message:e}}(t))},setMessages:function(t){return e(function(e){return{type:\"SET_MESSAGES\",messages:e}}(t))}}})(ie),ue=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d;var me=function(){var e=Object(o.c)({auth:d,nav:f,message:v});return Object(o.e)(e,ue(Object(o.a)(l.a)))}(),pe=r.a.createElement(i.a,{store:me},r.a.createElement(le,null));c.a.render(pe,document.getElementById(\"app\"))}},[[147,2,1]]]);","extractedComments":[]}